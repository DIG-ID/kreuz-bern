{"version":3,"file":"/google-maps.js","mappings":"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","sources":["webpack://kreuzbern/./src/js/google-maps.js"],"sourcesContent":["(function( $ ) {\r\n  /**\r\n   * initMap\r\n   *\r\n   * Renders a Google Map onto the selected jQuery element\r\n   *\r\n   * @date    22/10/19\r\n   * @since   5.8.6\r\n   *\r\n   * @param   jQuery $el The jQuery element.\r\n   * @return  object The map instance.\r\n   */\r\n  function initMap( $el ) {\r\n\r\n    // Find marker elements within map.\r\n    var $markers = $el.find('.marker');\r\n\r\n    var styles = [\r\n      {\r\n        \"featureType\": \"administrative\",\r\n        \"elementType\": \"labels.text.fill\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#444444\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"landscape\",\r\n        \"elementType\": \"all\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#f2f2f2\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"poi\",\r\n        \"elementType\": \"all\",\r\n        \"stylers\": [\r\n          {\r\n            \"visibility\": \"off\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"road\",\r\n        \"elementType\": \"all\",\r\n        \"stylers\": [\r\n          {\r\n            \"saturation\": -100\r\n          },\r\n          {\r\n            \"lightness\": 45\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"road.highway\",\r\n        \"elementType\": \"all\",\r\n        \"stylers\": [\r\n          {\r\n            \"visibility\": \"simplified\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"road.arterial\",\r\n        \"elementType\": \"labels.icon\",\r\n        \"stylers\": [\r\n          {\r\n            \"visibility\": \"off\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"transit\",\r\n        \"elementType\": \"all\",\r\n        \"stylers\": [\r\n          {\r\n            \"visibility\": \"off\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"water\",\r\n        \"elementType\": \"all\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#aeaeae\"\r\n          },\r\n          {\r\n            \"visibility\": \"on\"\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n\r\n    // Create gerenic map.\r\n    var mapArgs = {\r\n      zoom        : $el.data('zoom') || 16,\r\n      styles: styles,\r\n      mapTypeId   : google.maps.MapTypeId.ROADMAP\r\n    };\r\n    var map = new google.maps.Map( $el[0], mapArgs );\r\n\r\n    // Add markers.\r\n    map.markers = [];\r\n    $markers.each(function(){\r\n      initMarker( $(this), map );\r\n    });\r\n\r\n    // Center map based on markers.\r\n    centerMap( map );\r\n\r\n    // Return map instance.\r\n    return map;\r\n  }\r\n\r\n  /**\r\n  * initMarker\r\n  *\r\n  * Creates a marker for the given jQuery element and map.\r\n  *\r\n  * @date    22/10/19\r\n  * @since   5.8.6\r\n  *\r\n  * @param   jQuery $el The jQuery element.\r\n  * @param   object The map instance.\r\n  * @return  object The marker instance.\r\n  */\r\n  function initMarker( $marker, map ) {\r\n\r\n    // Get position from marker.\r\n    var lat = $marker.data('lat');\r\n    var lng = $marker.data('lng');\r\n    var latLng = {\r\n      lat: parseFloat( lat ),\r\n      lng: parseFloat( lng )\r\n    };\r\n\r\n    // Create marker instance.\r\n    var marker = new google.maps.Marker({\r\n      position : latLng,\r\n      map: map,\r\n      icon: {\r\n        url: \"https://kreuzbern.ch/wp-content/uploads/2022/02/kreuz_hotel_bern_mapmarker.png\",\r\n      }\r\n    });\r\n\r\n    // Append to reference for later use.\r\n    map.markers.push( marker );\r\n\r\n    // If marker contains HTML, add it to an infoWindow.\r\n    if( $marker.html() ){\r\n\r\n      // Create info window.\r\n      var infowindow = new google.maps.InfoWindow({\r\n          content: $marker.html()\r\n      });\r\n\r\n      // Show info window when marker is clicked.\r\n      google.maps.event.addListener(marker, 'click', function() {\r\n          infowindow.open( map, marker );\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n  * centerMap\r\n  *\r\n  * Centers the map showing all markers in view.\r\n  *\r\n  * @date    22/10/19\r\n  * @since   5.8.6\r\n  *\r\n  * @param   object The map instance.\r\n  * @return  void\r\n  */\r\n  function centerMap( map ) {\r\n\r\n    // Create map boundaries from all map markers.\r\n    var bounds = new google.maps.LatLngBounds();\r\n    map.markers.forEach(function( marker ){\r\n      bounds.extend({\r\n        lat: marker.position.lat(),\r\n        lng: marker.position.lng()\r\n      });\r\n    });\r\n\r\n    // Case: Single marker.\r\n    if( map.markers.length == 1 ){\r\n      map.setCenter( bounds.getCenter() );\r\n\r\n    // Case: Multiple markers.\r\n    } else{\r\n      map.fitBounds( bounds );\r\n    }\r\n  }\r\n\r\n  function removeGoogleMapFont() {\r\n    var head = document.getElementsByTagName('head')[0];\r\n    // Save the original method\r\n    var insertBefore = head.insertBefore;\r\n    // Replace it!\r\n    head.insertBefore = function (newElement, referenceElement) {\r\n      if (newElement.href && newElement.href.indexOf('//fonts.googleapis.com/css?family=Roboto') > -1 || newElement.href && newElement.href.indexOf('//fonts.googleapis.com/css?family=Google+Sans+Text') > -1  ) {\r\n        //console.info('Prevented Roboto and Google Sans Text from loading!');\r\n        return;\r\n      }\r\n      insertBefore.call(head, newElement, referenceElement);\r\n    };\r\n  }\r\n\r\n  // Render maps on page load.\r\n  $(document).on('ready', function(){\r\n    $('.acf-map').each(function(){\r\n      removeGoogleMapFont();\r\n      var map = initMap( $(this) );\r\n    });\r\n  });\r\n\r\n\r\n})(jQuery);"],"names":["$","initMap","$el","$markers","find","styles","mapArgs","zoom","data","mapTypeId","google","maps","MapTypeId","ROADMAP","map","Map","markers","each","initMarker","centerMap","$marker","lat","lng","latLng","parseFloat","marker","Marker","position","icon","url","push","html","infowindow","InfoWindow","content","event","addListener","open","bounds","LatLngBounds","forEach","extend","length","setCenter","getCenter","fitBounds","removeGoogleMapFont","head","document","getElementsByTagName","insertBefore","newElement","referenceElement","href","indexOf","call","on","jQuery"],"sourceRoot":""}